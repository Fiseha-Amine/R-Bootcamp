---
title: "Analysis of Rental Housing Market"
author: "Fiseha Amine,Martina Schüpbach-Wolf  "
date: "2 2 2021"
output: html_document
---

/ Break page
/Table of Contents



# Introduction

# Aim of Analysis

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Libraries
```{r}
library(tidyverse)
library(dplyr)
```

# Data Import

The dataset is from an online survey about house renting market. The goal is to analyse the price in relation to geography, area, and ....

```{r}

data <- read.csv2("mietinserate_v1.csv", header = TRUE, fileEncoding = "UTF-8")

```


# Data Preparation
```{r}
data <- as.data.frame(data)

data$Zimmer = as.numeric(data$Zimmer)
data$Fläche = as.numeric(data$Fläche)
data$Bezugsdatum =as.Date(data$Bezugsdatum, "%d.%m.%Y")
```


## Missing values

```{r}
data_sort <- arrange(data, KT, .by_group = FALSE)
data_sort
#sum(is.na(data$Fläche))

#data_kanton <- data%>% group_by(KT)
# sum(is.na(data_kanton$Fläche))
```

## Data Modification

In this step we splin the column PLZ_Ort which consists a postal code and city name to PLZ and Ort. 

```{r}
data_sep <- data$PLZ_Ort%>%
  str_match('(.*\\d) (.*)') %>%
  as_tibble() %>%
  select(2:3) %>%
  set_names(c('PLZ', 'Ort'))
data_sep
```

As this columns are saved separately from the main dataset, we merge it again to the main dataset and remove the old column "PLZ_Ort".

```{r}
data_sort <- data_sort%>%select(-PLZ_Ort)
data_clean <- bind_cols(data_sort, data_sep)
data_clean
```


# Graphical Analysis

```{r}
head(data)
str(data)
```
## Graphical Visualisation

```{r}
plot(y = data$Mietpreis_Brutto,
     x = data$Fläche,
     pch = "x", "preis pro Wohnung")
```

## Corellation's matrix


# Analysis

```{r}
data%>%
top_n(n = 10, wt = Mietpreis_Brutto)
```

